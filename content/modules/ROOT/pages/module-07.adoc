= ラボガイド: 2つ目の Project を作成する
:notoc:
:toc-title: Table of Contents
:nosectnums:
:icons: font

_automation controller で新しい project に 2 つ目のリポジトリーを取り込むためのガイド。_

---

== ラボ概要

**Project** は Ansible Playbook の論理的なコレクションです。playbook は、Git、Subversion、Red Hat Insights など、automation controller が対応するソースコード管理（SCM）システムで管理できます。

image::projects-list-all.png[Projects list view in automation controller, opts="border"]

---

== ラボガイド: ハンズオンタスク

前のチャレンジで `Apache playbooks` という Project を作成済みです。このチャレンジでは、`Additional playbooks` という 2 つ目の project を作成し、別サービスをインストールする playbook（`extended_services.yml`）、メッセージを設定する playbook（`motd_facts.yml`）、複数ユーザーを作成する playbook（`loop_users.yml`）を取り込みます。

[IMPORTANT]
====
automation controller へのログイン認証情報:

* *Username:* `admin`
* *Password:* `ansible123!`
====

=== Task 1: 2つ目の Project を作成する

最初に、別の公開 Git リポジトリーを参照する新しい project を作成します。

. **Projects ページへ移動する。**
+
左側ナビゲーションメニューで **Automation Execution** → **Projects** に移動します。

. **新しい project を作成する。**
+
青色の **Create project** ボタンを **クリック** します。

. **project の詳細を入力する。**
+
フォームに以下を入力します。
+
* **Name:** `Additional playbooks`
* **Organization:** `Default`
* **Source Control Type:** `Git`
* **Source Control URL:**
+
[source,text]
----
https://github.com/ansible-tmm/instruqt-wyfp-additional.git
----

. **project を保存する。**
+
他の項目はそのままにして、青色の **Create project** ボタンを **クリック** します。

=== Task 2: Project 同期を確認する

project を作成すると、automation controller は自動的に同期処理を開始し、Git リポジトリーから playbook を取得します。

. **project ステータスを確認する。**
+
保存後、新しい project の *Details* ページに移動します。*Last Job Status* は最初、青色の **Running** と表示されます。

. **同期成功を確認する。**
+
数秒後にステータスが **Successful** に変わり、緑色になります。これは project が正しく同期されたことを示します。

. **（別方法）Projects 一覧でステータスを確認する。**
+
**Projects** メインページ（**Automation Execution** → **Projects**）に戻って確認することもできます。
+
--
a. `Additional playbooks` の *Status* 列が緑色で **Successful** と表示されることを **確認** します。
b. **Successful** ステータステキストを **クリック** して同期ジョブ出力を確認します。
--

---

== 次のステップ

次のチャレンジに進むには、下の `Check` ボタンを押してください。

== トラブルシューティング

問題が発生した場合や不具合を見つけた場合は、link:https://github.com/ansible/workshops/issues/new?labels=controller-101&title=Issue+with+Intro+to+Controller+slug+ID:+controller-101-inventory+AAP25&assignees=leogallego[GitHub で issue を作成してください]。
